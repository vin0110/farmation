{% extends "base.html" %}
{% load humanize %}

{% block head_title %}Scenario|Details{% endblock %}

{% block body %}
<div class="container">
  <div class="row">
    <div class="col">
      <h3>
      Scenario details
      </h3>
      <p> Farm: {{ scenario.farm.name }}</p>
      <p> Scenario: {{ scenario }}
      <a href="{% url "optimizer:scenario_edit" scenario.id %}">
        <i class="fas fa-edit"></i>
        Edit name
      </a>
      <hr/>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <div class="col-sm">
      Expected
    </div>
    <div class="col-sm">
      ${{ scenario.mean|floatformat:"0"|intcomma }}
    </div>
    <div class="col-sm">
      {{ scenario.mean_partition }}
    </div>
  </div>
  <div class="row">
    <div class="col-sm">
      Pessimistic 
    </div>
    <div class="col-sm">
      ${{ scenario.q1|floatformat:"0"|intcomma }}
    </div>
    <div class="col-sm">
      {{ scenario.q1_partition }}
    </div>
  </div>
  <div class="row">
    <div class="col-sm">
      Optimistic
    </div>
    <div class="col-sm">
      ${{ scenario.q3|floatformat:"0"|intcomma }}
    </div>
    <div class="col-sm">
      {{ scenario.q3_partition }}
    </div>
  </div>
</div>

<div class="container">
    <div class="row">
      <div class="col">
        <p></p>
        <a class="btn btn-primary" href="{% url "optimizer:analyze" scenario.id %}" role="button">
          Update
        </a>
    </div>
  </div>
</div>

<div class="container">
    <div class="row">
      <div class="col">
        <hr/>
        <h3>Crops</h3>
    </div>
  </div>
</div>

<div class="container">
{% for crop in scenario.crops.all %}
<div class="row" {% cycle '' 'bg-light' %}">
  <div class="col">
    <a href="{% url "tbd" %}">
      <i class="fas fa-minus-circle"></i>
    </a>
    &nbsp;
    <a href="{% url "optimizer:crop_details" crop.id %}">
      {{ crop.name }}
    </a>
  </div>
</div>

{% empty %}
<div class="row">
  <div class="col">
    No crops
  </div>
</div>
{% endfor %}
</div>

<div class="container">
  <div class="row">
    <div class="col">
      <p>&nbsp;</p>
    </div>
  </div>
    <div class="row">
      <div class="col">
        <a href="{% url "tbd" %}">
          <i class="fas fa-plus-circle"></i>
          Add crop
        </a>
    </div>
  </div>
</div>

{% endblock %}
